<div class="container">
  <div class="title-panel row">
    <div class="title-text col-md-4 col-sm-12">Filter Builder</div>
    <div class="col-md-8 col-sm-12">{{filter-counts group=group}}</div>
  </div>

  <div class="row filter-builder-container">
    <div class="col-md-3 col-sm-5">
      <div class="panel">
        <div class="panel-heading">
          <div class="panel-title">
            Filter Type
          </div>
        </div>

        <div class="panel-body filter-types">
          {{#draggable-object content=patientAgeObject isDraggable=canAddAgeFilter}}
            <div class={{if canAddAgeFilter 'filter-type' 'filter-type-disabled'}}>
              <div class="filter-type-icon">
                <i class="fa fa-birthday-cake fa-fw"></i>
              </div>
              Age
              <i class="fa fa-chevron-right filter-type-chevron"></i>
            </div>
          {{/draggable-object}}

          {{#draggable-object content=patientGenderObject isDraggable=canAddGenderFilter}}
            <div class={{if canAddGenderFilter 'filter-type' 'filter-type-disabled'}}>
              <div class="filter-type-icon">
                <i class="fa fa-user fa-fw"></i>
              </div>
              Gender
              <i class="fa fa-chevron-right filter-type-chevron"></i>
            </div>
          {{/draggable-object}}

          {{#draggable-object content=conditionObject}}
            <div class="filter-type">
              <div class="filter-type-icon">
                <i class="icon-med-clipboard"></i>
              </div>
              Condition
              <i class="fa fa-chevron-right filter-type-chevron"></i>
            </div>
          {{/draggable-object}}

          {{#draggable-object content=encounterObject}}
            <div class="filter-type">
              <div class="filter-type-icon">
                <i class="fa fa-hospital-o fa-fw"></i>
              </div>
              Encounter
              <i class="fa fa-chevron-right filter-type-chevron"></i>
            </div>
          {{/draggable-object}}
        </div>
      </div>
    </div>

    <div class="col-md-9 col-sm-7">
      <div class="panel">
        <div class="panel-heading">
          <div class="panel-title">
            Filter Details
          </div>
        </div>

        <div class="filter-details panel-body">
          {{#draggable-object-target action="addPane" class="drop-area"}}
            {{#if hasFilterPane}}
              {{#each panes as |pane|}}
                {{filter-pane pane=pane group=group onChange=(action "updateCounts") removePane=(action "removePane")}}
              {{/each}}

              <div class="save-new-filter row">
                <div class="pane-input">
                  {{input type="text" value=filterName placeholder="name of filter"}}
                </div>

                <div class="col-sm-12">
                  <button class="btn btn-lg btn-primary pull-right" {{action "saveFilter"}}>Save Filter</button>
                </div>
              </div>
            {{else}}
              <span class="sub-text">
                No filters. Drag filter type here.
              </span>
            {{/if}}
          {{/draggable-object-target}}
        </div>
      </div>
    </div>
  </div>
</div>
